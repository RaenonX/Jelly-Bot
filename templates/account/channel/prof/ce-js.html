{% load i18n %}

<script type="text/javascript">
    function checkNameValidity(cid, name, onLoaded) {
        const url = `{% url "api.id.profile.name" %}?{{ static_keys_param.Manage.Profile.CHANNEL_OID }}=${cid}&{{ static_keys_param.Manage.Profile.NAME }}=${name}&{{ static_keys_param.LOCAL_REFER }}=true`;

        const xhr = new XMLHttpRequest();
        xhr.open("GET", url);
        xhr.responseType = "json";
        xhr.onload = () => {
            onLoaded(xhr.response["{{ static_keys_result.RESULT }}"]);
        };
        xhr.send();
    }
</script>